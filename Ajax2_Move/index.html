<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        ul {
            list-style: none;
        }

        form ul li label input {
            margin-bottom: 10px;
        }



    </style>
</head>
<body>

<div style="border: 1px solid black;
    border-radius: 10px;
    padding: 5px;
    width: fit-content;
    margin: auto;">
    <form name = "formSetSearch" method = "get">
        <ul style="padding: 10px; margin: 0;">
            <li>
                <label>Title:
                    <input id="SearchTitle" type="text">
                </label>
            </li>
            <li>
                <label>Type:
                    <select id="SelectType">
                        <option>movie</option>
                        <option>series</option>
                        <option>episode</option>
                    </select>
                </label>
            </li>

        </ul>
        <input style="width: -webkit-fill-available;" value="SearchBtn"  type="submit" >
    </form>
</div>
<div>
    <p>Films</p>
</div>
<div>
    <ul id="OutSearch" style="padding: 0px; margin: 0; display: flex;;background-color: antiquewhite;">

    </ul>
</div>
<div id="Details">
</div>
<form id="Select position">
    <input type="submit"  name="Left" value="<<">
    <input type="submit"  name="Right" value=">>">
</form>
<script>
    const btnSearch = document.forms['formSetSearch'];
    const btnDetals = document.getElementById['getDETAILS'];
    const API_KEY = 'e57f5baf';
    const BASE_API_URL = `http://www.omdbapi.com/?apikey=${API_KEY}`;
    const BASE_IMG_URL = `http://img.omdbapi.com/?apikey=${API_KEY}`;
    let search = document.getElementById("SearchTitle").value;

    function getMovie() {
        let url;
        if (search !== "") {
            url = `${BASE_API_URL}&s=${search}`;
        }
        else {
            url = `${BASE_API_URL}&`
        }
        //const url = `${BASE_API_URL}&t=${search}`;
        fetch(url)
            .then(response => response.json())
            .then(data => {
                console.log(data);
                console.log(data.Search);

                data.Search.forEach((item) => {
                    let html = `
                        <li style="margin: auto; display: flex">
                        <img style="width: 160px;height: 236px;" src="${item.Poster}" alt="${item.Title}">
                            <ul>

                                <p> ${item.Type}</p>
                                <h2>${item.Title}</h2>
                                <p>${item.Year}</p>
                                <button id="getDETAILS">
                                Details
                                </button>
                            </ul>


                        </li>
                        `
                    document.getElementById('OutSearch').innerHTML += html;
                })

            })
            .catch(error => {
                console.log(error);
            })
    }
    function getDETAILS()
    {

        //let dateilsUrl= `${BASE_API_URL}&t=${}`;
        let html = `

                        <img style="width: 160px;height: 236px;" src="${dateilsUrl.Poster}" alt="${dateilsUrl.Title}">
                            <ul>
                                <ul>
                                    <li>
                                        <p> Title:</p>
                                    </li>
                                    <li>
                                        <p> ${dateilsUrl.Title}</p>
                                    </li>
                                </ul>
                                <p> ${dateilsUrl.Title}</p>
                                <h2>${dateilsUrl.Released}</h2>
                                <p>${dateilsUrl.Year}</p>

                            </ul>



                        `
        document.getElementById('OutSearch').innerHTML += html;

    }
    btnSearch.onsubmit = function (ev) {
        ev.preventDefault();
        getMovie()
        return false
    }


</script>
</body>
</html>